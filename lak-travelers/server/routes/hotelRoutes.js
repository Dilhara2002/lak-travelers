import express from 'express';
import { protect, vendor } from '../middleware/authMiddleware.js';
import {
  getHotels,
  getHotelById,
  createHotel,
  updateHotel,
  deleteHotel,
  createHotelReview,
} from '../controllers/hotelController.js';

const router = express.Router();

/* =====================================================
   1Ô∏è‚É£ Public Routes (‡∂ï‡∂±‡∑ë‡∂∏ ‡∂Ö‡∂∫‡∑ô‡∂ö‡∑î‡∂ß ‡∂∂‡∑ê‡∂Ω‡∑í‡∂∫ ‡∑Ñ‡∑ê‡∂ö)
===================================================== */

// ‡∑É‡∑í‡∂∫‡∂Ω‡∑î‡∂∏ ‡∑Ñ‡∑ù‡∂ß‡∂Ω‡∑ä ‡∂Ω‡∂∂‡∑è ‡∂ú‡∑ê‡∂±‡∑ì‡∂∏ ‡∑É‡∑Ñ ‡∂Ö‡∂Ω‡∑î‡∂≠‡∑ä ‡∑Ñ‡∑ù‡∂ß‡∂Ω‡∂∫‡∂ö‡∑ä ‡∂á‡∂≠‡∑î‡∑Ö‡∂≠‡∑ä ‡∂ö‡∑í‡∂ª‡∑ì‡∂∏
// (‡∂¥‡∑Ñ‡∂≠ Private routes ‡∂ö‡∑ú‡∂ß‡∑É‡∑ö createHotel ‡∑Ä‡∑ô‡∂±‡∑î‡∑Ä‡∂ß ‡∂∏‡∑ô‡∑Ñ‡∑í post ‡∂∑‡∑è‡∑Ä‡∑í‡∂≠‡∑è ‡∂ö‡∑Ö ‡∑Ñ‡∑ê‡∂ö)
router.route('/')
  .get(getHotels)
  .post(protect, vendor, createHotel); 

// ID ‡∂ë‡∂ö ‡∂Ö‡∂±‡∑î‡∑Ä ‡∑Ñ‡∑ù‡∂ß‡∂Ω‡∂∫‡∂ö‡∑ä ‡∂Ω‡∂∂‡∑è ‡∂ú‡∑ê‡∂±‡∑ì‡∂∏
router.route('/:id').get(getHotelById);

/* =====================================================
   2Ô∏è‚É£ Private Routes (‡∂Ω‡∑ú‡∂ú‡∑ä ‡∑Ä‡∑ñ ‡∂¥‡∂ª‡∑í‡∑Å‡∑ì‡∂Ω‡∂ö‡∂∫‡∑í‡∂±‡∑ä‡∂ß ‡∂¥‡∂∏‡∂´‡∑í)
===================================================== */

// üöÄ ‡∑Ñ‡∑ù‡∂ß‡∂Ω‡∑ä ‡∑É‡∂∏‡∑è‡∂Ω‡∑ù‡∂†‡∂± (Reviews) ‡∂ë‡∂ö‡∑ä ‡∂ö‡∑í‡∂ª‡∑ì‡∂∏
// ‡∂ï‡∂±‡∑ë‡∂∏ ‡∂Ω‡∑ú‡∂ú‡∑ä ‡∑Ä‡∑ñ ‡∂¥‡∂ª‡∑í‡∑Å‡∑ì‡∂Ω‡∂ö‡∂∫‡∑ô‡∂ö‡∑î‡∂ß Review ‡∂ë‡∂ö‡∂ö‡∑ä ‡∂Ø‡∑ê‡∂∏‡∑í‡∂∫ ‡∑Ñ‡∑ê‡∂ö‡∑í ‡∂±‡∑í‡∑É‡∑è 'vendor' ‡∂Ö‡∑Ä‡∑Å‡∑ä‚Äç‡∂∫ ‡∂±‡∑ê‡∂≠
router.route('/:id/reviews').post(protect, createHotelReview);

/* =====================================================
   3Ô∏è‚É£ Vendor/Admin Routes (‡∑Ä‡∑ô‡∂±‡∑ä‡∂©‡∂ª‡∑ä ‡∑Ñ‡∑ù ‡∂á‡∂©‡∑ä‡∂∏‡∑í‡∂±‡∑ä‡∂ß ‡∂¥‡∂∏‡∂´‡∑í)
===================================================== */

// ‡∑Ñ‡∑ù‡∂ß‡∂Ω‡∑ä ‡∂Ø‡∂≠‡∑ä‡∂≠ ‡∂∫‡∑è‡∑Ä‡∂≠‡∑ä‡∂ö‡∑è‡∂Ω‡∑ì‡∂± ‡∂ö‡∑í‡∂ª‡∑ì‡∂∏ ‡∑É‡∑Ñ ‡∂∏‡∂ö‡∑è ‡∂Ø‡∑ê‡∂∏‡∑ì‡∂∏
router.route('/:id')
  .put(protect, vendor, updateHotel)
  .delete(protect, vendor, deleteHotel);

export default router;